using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class CameraControls : MonoBehaviour
{

    public Camera cam;
    public Transform player, centerPoint;


    //zoom variables
    private float zoom;
    public float zoomSpeed = 2;
    public float zoomMin = -2f;
    public float zoomMax = -10f;

    //mouse camera controls
    private float mouseX, mouseY;
    public float mouseSensitivity = 10f;
    public float mouseYPosition = 1f;

    void Start()
    {

        zoom = -5;

    }

    //Update is Called once per frame
    void LateUpdate()
    {
        //zoom controls
        zoom += Input.GetAxis("Mouse ScrollWheel") * zoomSpeed;

        if (zoom > zoomMin)
            zoom = zoomMin;


        if (zoom < zoomMax)
            zoom = zoomMax;


        cam.transform.localPosition = new Vector3(0, 0, zoom);

        //Mouse Orbiting
        if (Input.GetAxis("Mouse X") != 0)

        {
            //cam moves with mouse
            mouseX += Input.GetAxis("Mouse X");
            mouseY += Input.GetAxis("Mouse Y");

        }

        mouseY = Mathf.Clamp(mouseY, -60, 60);
        //controll of right mouse click
        cam.transform.LookAt(centerPoint);
        centerPoint.localRotation =
            Quaternion.Euler(mouseY, mouseX, 0); //Not Vector3, rotations always use quarternions


        Vector3 fwd = transform.TransformDirection(Vector3.forward);

         if (Physics.Raycast(transform.position, fwd, 4))
          {

         print("There is something in front of the camera!");
         cam.transform.position = Vector3.Lerp(player.transform.position, player.transform.position, 3f);

         }

    }
}
